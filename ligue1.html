<html><head><base href="https://example.com/"><!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Résultats et Classement Ligue 1 des Ours</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f9f9f9;
        }
        header {
            background-color: #003366;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .banner {
            position: relative;
            width: 100%;
            height: 300px;
            background: url('https://foot-ours.github.io/ligue1/banner.jpg') no-repeat center center;
            background-size: cover;
        }
        .banner-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            backdrop-filter: blur(5px);
            transition: all 0.5s ease;
            border: 2px solid rgba(255,255,255,0.1);
        }
        #teamName {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96c93d);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradient 5s ease infinite;
        }
        #bannerImage {
            max-width: 120px;
            height: auto;
            margin: 15px auto;
            filter: drop-shadow(0 0 10px rgba(255,255,255,0.3));
            transition: transform 0.3s ease;
        }
        #bannerImage:hover {
            transform: scale(1.1);
        }
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        .section {
            padding: 20px;
        }
        .team-logos img {
            width: 100px;
            height: auto;
            margin: 10px;
        }
        .news-feed {
            margin: 20px;
            padding: 20px;
            background-color: white;
            border-radius: 5px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            max-height: 400px;
            overflow-y: auto;
        }
        .news-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            margin-bottom: 10px;
        }
        .news-item h3 {
            color: #003366;
            margin: 0 0 10px 0;
        }
        .news-item p {
            margin: 0;
            color: #333;
        }
        .news-item:hover {
            background-color: #f5f5f5;
        }
        .delete-btn {
            color: red;
            cursor: pointer;
            margin-left: 10px;
        }
        .score-input {
            width: 40px;
        }
        table {
            border: 1px solid black;
            border-collapse: collapse;
            border-radius: 10px;
            overflow: hidden;
        }
        th, td {
            padding: 10px;
            border: 1px solid black;
        }
        .save-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
        }
        .save-btn:hover {
            background-color: #45a049;
        }
        #message {
            color: green;
            font-weight: bold;
            display: none;
        }
        .clicked-btn {
            background-color: #FFD700 !important;
        }
        header img {
            width: 50%;
            max-width: 100px;
            margin-right: 20px;
        }
        table img {
            width: 30px;
            height: 30px;
            vertical-align: middle;
            margin: 0 5px;
        }
        td {
            vertical-align: middle;
        }
        .highlight {
            background-color: #e0f7fa;
        }
        .footer {
            text-align: center;
            padding: 10px;
            background-color: #003366;
            color: white;
            position: relative;
            bottom: 0;
            width: 100%;
            margin-top: 20px;
        }
        .save-all-btn {
            background-color: #003366;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 20px 0;
            transition: background-color 0.3s ease;
        }
        .save-all-btn:hover {
            background-color: #004d99;
        }
    </style>
</head>
<body>
    <header>
        <h1><img src="https://foot-ours.github.io/ligue1/OIP.png" alt="Logo de Ligue 1 des Ours"> Résultats et Classement Ligue 1 des Ours</h1>
    </header>

    <div class="banner">
        <div class="banner-content">
            <span id="teamName"></span>
            <img id="bannerImage" src="" alt="">
        </div>
        <div class="banner-text">Derniers matchs et temps forts de la Ligue 1</div>
    </div>

    <div class="section">
        <h2>Rencontres</h2>
        <table id="rencontresTable">
            <thead>
                <tr>
                    <th>Journée</th>
                    <th>Match 1</th>
                    <th>Match 2</th>
                    <th>Match 3</th>
                </tr>
            </thead>
            <tbody id="rencontresBody">
                <!-- Les lignes de rencontres seront insérées ici -->
            </tbody>
        </table>
    </div>

    <div id="message">Résultat enregistré avec succès!</div>

    <div class="section">
        <h2>Classement</h2>
        <table id="classementTable">
            <thead>
                <tr>
                    <th>Équipe</th>
                    <th>Points</th>
                    <th>Matchs joués</th>
                    <th>But marqués</th>
                    <th>But encaissés</th>
                    <th>Différence de buts</th>
                </tr>
            </thead>
            <tbody id="classementBody">
                <!-- Les lignes du classement seront insérées ici -->
            </tbody>
        </table>
    </div>

    <div id="newsFeed" class="news-feed">
        <h2>Actualités de la Ligue</h2>
        <div class="news-item">
            <h3>Bienvenue sur le site de la Ligue 1 des Ours</h3>
            <p>Suivez tous les résultats et le classement de la saison en cours.</p>
        </div>
    </div>

    <div class="section">
        <button id="saveAllBtn" onclick="sauvegarderTout()" class="save-all-btn">Sauvegarder les données</button>
    </div>

    <footer class="footer">
        &copy; 2024 Ligue 1 des Ours. Tous droits réservés.
    </footer>

    <script>
        let matches = JSON.parse(localStorage.getItem('matches')) || [];
        let equipes = JSON.parse(localStorage.getItem('equipes')) || {
            "Valenciennes Footbalours Club": { logo: "https://foot-ours.github.io/ligue1/vafc.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 },
            "Toulours Football Club": { logo: "https://foot-ours.github.io/ligue1/tfc.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 },
            "Peluche Football Club": { logo: "https://foot-ours.github.io/ligue1/pfc.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 },
            "Peluche Saint-Germours": { logo: "https://foot-ours.github.io/ligue1/psg.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 },
            "Olympique d'Ours FC": { logo: "https://foot-ours.github.io/ligue1/oo.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 },
            "Associations Carrotes Lapines": { logo: "https://foot-ours.github.io/ligue1/ascl.png", points: 0, matchs: 0, butsPour: 0, butsContre: 0 }
        };

        const rencontres = [
            ["<img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club vs <img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club", "<img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club vs <img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours", "<img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC vs <img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines"],
            ["<img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club vs <img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club", "<img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours vs <img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC", "<img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines vs <img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club"],
            ["<img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club vs <img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club", "<img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC vs <img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club", "<img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines vs <img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours"],
            ["<img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club vs <img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours", "<img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club vs <img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines", "<img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club vs <img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC"],
            ["<img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours vs <img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club", "<img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines vs <img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club", "<img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC vs <img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club"],
            ["<img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club vs <img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club", "<img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours vs <img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club", "<img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines vs <img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC"],
            ["<img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club vs <img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club", "<img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC vs <img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours", "<img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club vs <img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines"],
            ["<img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club vs <img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club", "<img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club vs <img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC", "<img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours vs <img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines"],
            ["<img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours vs <img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club", "<img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines vs <img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club", "<img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC vs <img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club"],
            ["<img src='https://foot-ours.github.io/ligue1/vafc.png'> Valenciennes Footbalours Club vs <img src='https://foot-ours.github.io/ligue1/oo.png'> Olympique d'Ours FC", "<img src='https://foot-ours.github.io/ligue1/pfc.png'> Peluche Football Club vs <img src='https://foot-ours.github.io/ligue1/ascl.png'> Associations Carrotes Lapines", "<img src='https://foot-ours.github.io/ligue1/tfc.png'> Toulours Football Club vs <img src='https://foot-ours.github.io/ligue1/psg.png'> Peluche Saint-Germours"]
        ];

        function remplirRencontresTable() {
            const rencontresBody = document.getElementById('rencontresBody');
            rencontresBody.innerHTML = '';

            rencontres.forEach((journee, index) => {
                const row = rencontresBody.insertRow();
                const cellJournee = row.insertCell();
                cellJournee.textContent = index + 1;

                journee.forEach((match, matchIndex) => {
                    const cellMatch = row.insertCell();
                    const matchParts = match.split(' vs ');
                    const equipe1 = matchParts[0].replace(/<img.*?>/, '').trim();
                    const equipe2 = matchParts[1].replace(/<img.*?>/, '').trim();
                    
                    cellMatch.innerHTML = `
                        ${matchParts[0]}
                        <input type="number" class="score-input" id="score_${index}_${matchIndex}_1" data-journee="${index}" data-match="${matchIndex}" data-equipe="${equipe1}">
                        - 
                        <input type="number" class="score-input" id="score_${index}_${matchIndex}_2" data-journee="${index}" data-match="${matchIndex}" data-equipe="${equipe2}">
                        ${matchParts[1]}
                        <button class="save-btn" onclick="enregistrerMatch(${index}, ${matchIndex})">Enregistrer</button>
                        <span class="delete-btn" onclick="reinitialiserMatch(${index}, ${matchIndex})">✖</span>
                    `;
                });
            });

            matches.forEach((journee, journeeIndex) => {
                journee.forEach((match, matchIndex) => {
                    const equipesMatch = Object.keys(match);
                    document.getElementById(`score_${journeeIndex}_${matchIndex}_1`).value = match[equipesMatch[0]];
                    document.getElementById(`score_${journeeIndex}_${matchIndex}_2`).value = match[equipesMatch[1]];
                });
            });
        }

        function updateNewsFeed() {
            const newsFeed = document.getElementById('newsFeed');
            newsFeed.innerHTML = '<h2>Actualités de la Ligue</h2>';

            let recentNews = '';
            matches.forEach((journee, journeeIndex) => {
                journee.forEach((match, matchIndex) => {
                    const equipesMatch = Object.keys(match);
                    recentNews += `
                        <div class="news-item">
                            <h3>Journée ${journeeIndex + 1}</h3>
                            <p>${equipesMatch[0]} ${match[equipesMatch[0]]} - ${match[equipesMatch[1]]} ${equipesMatch[1]}</p>
                        </div>
                    `;
                });
            });

            if (!recentNews) {
                recentNews = `
                    <div class="news-item">
                        <h3>Bienvenue sur le site de la Ligue 1 des Ours</h3>
                        <p>Suivez tous les résultats et le classement de la saison en cours.</p>
                    </div>
                `;
            }

            newsFeed.innerHTML += recentNews;
        }

        function enregistrerMatch(journee, matchIndex) {
            const score1 = parseInt(document.getElementById(`score_${journee}_${matchIndex}_1`).value);
            const score2 = parseInt(document.getElementById(`score_${journee}_${matchIndex}_2`).value);
            const equipe1 = document.getElementById(`score_${journee}_${matchIndex}_1`).dataset.equipe;
            const equipe2 = document.getElementById(`score_${journee}_${matchIndex}_2`).dataset.equipe;

            if (!isNaN(score1) && !isNaN(score2)) {
                if (!matches[journee]) {
                    matches[journee] = [];
                }
                
                matches[journee][matchIndex] = {
                    [equipe1]: score1,
                    [equipe2]: score2
                };

                // Save matches immediately
                localStorage.setItem('matches', JSON.stringify(matches));
                
                afficherMessage();
                calculerClassement();
                updateNewsFeed();
            }
        }

        function reinitialiserMatch(journee, matchIndex) {
            const equipe1 = document.getElementById(`score_${journee}_${matchIndex}_1`).dataset.equipe;
            const equipe2 = document.getElementById(`score_${journee}_${matchIndex}_2`).dataset.equipe;

            document.getElementById(`score_${journee}_${matchIndex}_1`).value = '';
            document.getElementById(`score_${journee}_${matchIndex}_2`).value = '';

            if (matches[journee] && matches[journee][matchIndex]) {
                delete matches[journee][matchIndex];

                localStorage.setItem('matches', JSON.stringify(matches));
                calculerClassement();
                updateNewsFeed();
            }
        }

        function sauvegarderMatches() {
            localStorage.setItem('matches', JSON.stringify(matches));
        }

        function afficherMessage() {
            const message = document.getElementById('message');
            message.style.display = 'block';
            setTimeout(() => {
                message.style.display = 'none';
            }, 2000);
        }

        function calculerClassement() {
            // Reset all team stats
            for (let equipe in equipes) {
                equipes[equipe] = {
                    ...equipes[equipe],
                    points: 0,
                    matchs: 0,
                    butsPour: 0,
                    butsContre: 0
                };
            }

            // Calculate new stats
            matches.forEach(journee => {
                if (journee) {
                    journee.forEach(match => {
                        if (match) {
                            const equipesMatch = Object.keys(match);
                            const score1 = match[equipesMatch[0]];
                            const score2 = match[equipesMatch[1]];

                            equipes[equipesMatch[0]].matchs++;
                            equipes[equipesMatch[1]].matchs++;

                            equipes[equipesMatch[0]].butsPour += score1;
                            equipes[equipesMatch[0]].butsContre += score2;
                            equipes[equipesMatch[1]].butsPour += score2;
                            equipes[equipesMatch[1]].butsContre += score1;

                            if (score1 > score2) {
                                equipes[equipesMatch[0]].points += 3;
                            } else if (score2 > score1) {
                                equipes[equipesMatch[1]].points += 3;
                            } else {
                                equipes[equipesMatch[0]].points += 1;
                                equipes[equipesMatch[1]].points += 1;
                            }
                        }
                    });
                }
            });

            // Save equipes data immediately
            localStorage.setItem('equipes', JSON.stringify(equipes));
            mettreAJourClassement();
        }

        function sauvegarderEquipes() {
            localStorage.setItem('equipes', JSON.stringify(equipes));
        }

        function mettreAJourClassement() {
            const classementBody = document.getElementById('classementBody');
            classementBody.innerHTML = '';

            Object.entries(equipes)
                .sort((a, b) => {
                    if (b[1].points !== a[1].points) {
                        return b[1].points - a[1].points;
                    }
                    return (b[1].butsPour - b[1].butsContre) - (a[1].butsPour - a[1].butsContre);
                })
                .forEach(([equipe, data]) => {
                    const row = classementBody.insertRow();
                    row.insertCell(0).textContent = equipe;
                    row.insertCell(1).textContent = data.points;
                    row.insertCell(2).textContent = data.matchs;
                    row.insertCell(3).textContent = data.butsPour;
                    row.insertCell(4).textContent = data.butsContre;
                    row.insertCell(5).textContent = data.butsPour - data.butsContre;
                });
        }

        function sauvegarderTout() {
            // Save matches
            localStorage.setItem('matches', JSON.stringify(matches));
            
            // Save equipes
            localStorage.setItem('equipes', JSON.stringify(equipes));
            
            // Show success message
            const message = document.getElementById('message');
            message.textContent = "Toutes les données ont été sauvegardées!";
            message.style.display = 'block';
            setTimeout(() => {
                message.style.display = 'none';
            }, 2000);
        }

        function rotateTeams() {
            const teams = Object.entries(equipes);
            let currentIndex = 0;

            function updateBanner() {
                const [teamName, teamData] = teams[currentIndex];
                const teamNameEl = document.getElementById('teamName');
                
                teamNameEl.innerHTML = '';
                
                // Use the correct logo from the equipes object
                const logoImg = document.createElement('img');
                logoImg.src = teamData.logo; // This now uses the correct logo URL from equipes
                logoImg.style.width = '50px';
                logoImg.style.marginRight = '15px';
                teamNameEl.appendChild(logoImg);
                
                const nameSpan = document.createElement('span');
                nameSpan.textContent = teamName;
                teamNameEl.appendChild(nameSpan);
                
                // Update banner image with correct logo
                document.getElementById('bannerImage').src = teamData.logo;
                
                const banner = document.querySelector('.banner-content');
                banner.style.opacity = '0';
                setTimeout(() => {
                    banner.style.opacity = '1';
                }, 100);
                
                const colors = [
                    '#ff6b6b',
                    '#4ecdc4',
                    '#45b7d1',
                    '#96c93d',
                    '#a8e6cf',
                    '#dcedc1'
                ];
                
                teamNameEl.style.background = `linear-gradient(45deg, 
                    ${colors[currentIndex % colors.length]}, 
                    ${colors[(currentIndex + 1) % colors.length]})`;
                teamNameEl.style.backgroundClip = 'text';
                teamNameEl.style.webkitBackgroundClip = 'text';
                
                currentIndex = (currentIndex + 1) % teams.length;
            }

            updateBanner();
            setInterval(updateBanner, 4000);
        }

        window.onload = function() {
            // Load saved data
            const savedMatches = localStorage.getItem('matches');
            const savedEquipes = localStorage.getItem('equipes');
            
            if (savedMatches) {
                matches = JSON.parse(savedMatches);
            }
            
            if (savedEquipes) {
                equipes = JSON.parse(savedEquipes);
            }

            remplirRencontresTable();
            calculerClassement();
            updateNewsFeed();
            rotateTeams();
        };
    </script>

</body>
</html>
